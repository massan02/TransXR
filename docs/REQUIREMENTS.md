# TransXR 要件定義書

## 1. 機能要件

### 1.1 コンテキストエンジン（コア機能）

#### 視覚情報収集
- **キャプチャ頻度**: 30秒ごと、または重要なシーン変化時
- **画像処理**: 
  - 解像度: 1280x720（バッテリー考慮）
  - 形式: JPEG（圧縮率70%）
  - メタデータ: タイムスタンプ、位置情報、向き
- **プライバシー**: 顔検出時の自動ぼかし処理

#### 音声情報収集
- **録音**: 継続的バックグラウンド録音
- **文字起こし**: 
  - リアルタイム処理（Web Speech API）
  - バッチ処理（Whisper API、5分ごと）
- **話者分離**: 基本的な話者識別

#### データ管理
- **保存期間**: 
  - 詳細データ: 24時間
  - 要約データ: 30日
  - 重要マーク: 無期限
- **検索**: 全文検索、時間範囲、場所、キーワード
- **エクスポート**: JSON、CSV形式

### 1.2 翻訳プラグイン

#### リアルタイム翻訳
- **対応言語**: 日本語、英語、中国語、韓国語（初期）
- **表示方式**: 
  - 字幕オーバーレイ（話者の近く）
  - 固定パネル表示オプション
- **遅延**: 最大2秒

#### 会話モード
- **双方向翻訳**: 自動言語検出
- **会話履歴**: セッション中保持
- **音声出力**: オプション（TTS）

### 1.3 質問応答プラグイン

#### 視覚的質問
- **対象認識**: 物体、テキスト、人物（プライバシー配慮）
- **質問形式**: 
  - 音声入力
  - ジェスチャー指示
- **回答表示**: ARオーバーレイ、音声読み上げ

#### コンテキスト参照
- **時間範囲**: 過去24時間のコンテキスト
- **関連性スコアリング**: 質問との関連度計算
- **マルチモーダル回答**: テキスト＋画像＋音声

### 1.4 日記プラグイン

#### 自動生成
- **生成タイミング**: 毎日22時、手動トリガー
- **内容**: 
  - 1日の要約（500文字）
  - ハイライト3-5個
  - 感情分析結果
- **写真選択**: 重要シーン自動選択（最大10枚）

#### 編集・管理
- **手動編集**: テキスト修正、写真追加/削除
- **タグ付け**: 自動タグ＋手動タグ
- **共有**: SNS連携（オプション）

## 2. 非機能要件

### 2.1 パフォーマンス

| 項目 | 要件 | 測定方法 |
|-----|------|---------|
| 起動時間 | < 3秒 | アプリ起動から利用可能まで |
| レスポンス | < 100ms | ユーザー操作から反応まで |
| フレームレート | 60fps以上 | 通常使用時 |
| バッテリー | 3時間以上 | 連続使用 |

### 2.2 スケーラビリティ

- **同時接続**: 初期100ユーザー
- **データ量**: ユーザーあたり1GB/日
- **API呼び出し**: 10,000回/日上限

### 2.3 信頼性

- **可用性**: 99%（開発段階）
- **データ損失**: RPO 1時間、RTO 30分
- **エラーハンドリング**: グレースフルデグレード

### 2.4 セキュリティ

- **認証**: OAuth 2.0
- **暗号化**: 
  - 通信: TLS 1.3
  - 保存: AES-256
- **プライバシー**: 
  - GDPR準拠設計
  - ローカル処理優先
  - オプトイン方式

### 2.5 使いやすさ

- **学習時間**: 10分以内で基本操作習得
- **アクセシビリティ**: 
  - 音声コマンド対応
  - ハイコントラストモード
- **多言語対応**: UI日本語/英語

## 3. 制約事項

### 技術的制約
- Quest 3ハードウェア制限
- WebXR API制限
- ブラウザメモリ制限（2GB）

### ビジネス制約
- 開発期間: 3ヶ月
- 予算: AI API利用料$100/月まで
- 開発リソース: 1人

### 法的制約
- 個人情報保護法準拠
- 録音・撮影の同意取得
- 第三者の肖像権配慮

## 4. 前提条件

- Quest 3所有
- Wi-Fi環境（5GHz推奨）
- AIサービスAPIキー取得済み
- 開発環境構築済み